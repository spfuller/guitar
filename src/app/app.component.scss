:root {
  --fretboard-height: 300;
  --number-of-strings: 6;
  --string-height: 6;
  --half-string-height: calc(var(--string-height) / 2);
  --string-top-position: calc(var(--fretboard-height) / var(--number-of-strings) / 2 - var(--half-string-height));
}

.notes {
  margin-top: 10px;

  li {
    border-radius: 50%;
    width: 40px;
    height: 40px;
    line-height: 40px;
    background: teal;
    cursor: pointer;

    &.selected {
      background: darken(teal, 10%);
      color: #eee;
    }
  }
}

#fretboard {
  display: flex;
  flex-flow: column nowrap;
  height: calc(var(--fretboard-height) * 1px);
  width: 100%;
  background: #be975b;
  // background: #51361A;
  position: relative;
  min-width: 250px;

  .string {
    display: flex;
    width: 100%;
    height: 100%;
    position: relative;

    &:first-child {
      .fret-note {

        &:nth-child(4),
        &:nth-child(6),
        &:nth-child(8),
        &:nth-child(10),
        &:nth-child(16),
        &:nth-child(18),
        &:nth-child(20),
        &:nth-child(22) {
          &:after {
            content: '';
            position: absolute;
            height: 25px;
            width: 25px;
            border-radius: 50%;
            background: radial-gradient(#6e552c, #51361A);
            // background: radial-gradient(#ddd, #bbb);
            top: calc(var(--fretboard-height) / 2 * 1px);
            transform: translate(0, -50%);
          }
        }

        .double-fretmark {

          position: absolute;
          top: 0;
          left: 0;
          display: flex;
          justify-content: center;
          align-items: center;
          width: 100%;

          &:before {
            content: '';
            position: absolute;
            height: 25px;
            width: 25px;
            border-radius: 50%;
            background: radial-gradient(#6e552c, #51361A);
            // background: radial-gradient(#ddd, #bbb);
            top: calc(var(--fretboard-height) * 0.3 * 1px);
            transform: translate(0, -50%);
          }

          &:after {
            content: '';
            position: absolute;
            height: 25px;
            width: 25px;
            border-radius: 50%;
            background: radial-gradient(#6e552c, #51361A);
            // background: radial-gradient(#ddd, #bbb);
            top: calc(var(--fretboard-height) * 0.7 * 1px);
            transform: translate(0, -50%);
          }
        }
      }
    }

    &:before {
      content: '';
      height: calc(var(--string-height) * 1px);
      width: 100%;
      background: linear-gradient(#eee, #999);
      box-shadow: 76px 3px 10px #806233;
      position: absolute;
      top: calc(var(--string-top-position) * 1px);
      z-index: 1;
    }

    .fret-note {
      display: flex;
      flex: 1;
      border-right: 10px solid;
      border-image: linear-gradient(to left, #777, #bbb, #777) 1 100%;
      justify-content: center;
      align-items: center;
      position: relative;

      &:before {
        content: attr(data-note);
        height: 30px;
        width: 30px;
        line-height: 30px;
        border-radius: 50%;
        text-align: center;
        background: teal;
        z-index: 2;
        color: #eee;
        opacity: 0;
      }

      &.show,
      &:hover {
        &:before {
          opacity: 0.8;
        }
      }

      &.isRoot {
        &:before {
          background: red;
          border-radius: 0;
        }
      }

      &.isBox {
        &.isRoot {
          &:before {
            border: 1px solid red;
          }
        }

        &:before {
          background: yellow;
          color: #333;
        }
      }

      &:first-child {
        min-width: 76px;
        background: #161717;
        //background: #be975b;
        border-right: 15px solid;
        border-image: linear-gradient(to left, #ccc, #eee, #ccc) 1 100%;
        flex-grow: 0;
        flex-shrink: 0;
      }
    }
  }
}

//https://www.youtube.com/watch?v=ewgPS-4ycoE&list=PLXAhCH9FJ8zViqdqhsSP7iyCrVDoUGb3P&index=12&ab_channel=MusicandCoding
